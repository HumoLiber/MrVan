(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{3498:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding/delegatingCompany",function(){return n(7939)}])},1771:function(e,a,n){"use strict";n.d(a,{Z:function(){return t}});var r=n(5893);function t(e){let{id:a,name:n,label:t,value:s,onChange:l,type:o="text",placeholder:i,required:c=!1}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",c&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:a,name:n,type:o,value:s,onChange:l,placeholder:i,required:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})}n(7294)},6424:function(e,a,n){"use strict";n.d(a,{Z:function(){return t}});var r=n(5893);function t(e){let{id:a,name:n,label:t,value:s,onChange:l,options:o,required:i=!1}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",i&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{id:a,name:n,value:s,onChange:l,required:i,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"Select an option"}),o.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}n(7294)},4820:function(e,a,n){"use strict";var r=n(5893),t=n(7294),s=n(1664),l=n.n(s),o=n(1163);function i(){let{locale:e}=(0,o.useRouter)(),[a,r]=(0,t.useState)(null);return(0,t.useEffect)(()=>{n(6507)(`./${e}/common.json`).then(e=>{r(e.default)}).catch(()=>{n.e(172).then(n.t.bind(n,3172,19)).then(e=>{r(e.default)})})},[e]),a}let c=()=>{let e=(0,o.useRouter)(),{pathname:a,asPath:n,query:t}=e,s=[{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"ca",name:"Catal\xe0",flag:"\uD83C\uDFF4\uDB40\uDC65\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74\uDB40\uDC7F"},{code:"it",name:"Italiano",flag:"\uD83C\uDDEE\uD83C\uDDF9"},{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"}],l=r=>{e.push({pathname:a,query:t},n,{locale:r}),localStorage.setItem("preferredLanguage",r)};return(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{className:"flex items-center space-x-1 text-gray-700 hover:text-indigo-600",children:[(0,r.jsx)("span",{children:s.find(a=>a.code===e.locale)?.flag}),(0,r.jsx)("span",{className:"hidden sm:inline",children:s.find(a=>a.code===e.locale)?.name}),(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,r.jsx)("div",{className:"absolute right-0 z-10 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300",children:(0,r.jsx)("div",{className:"py-1",children:s.map(a=>(0,r.jsxs)("button",{onClick:()=>l(a.code),className:`flex items-center w-full px-4 py-2 text-sm ${e.locale===a.code?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-100"}`,children:[(0,r.jsx)("span",{className:"mr-2",children:a.flag}),(0,r.jsx)("span",{children:a.name})]},a.code))})})]})},d=()=>{let e=i();return e?(0,r.jsx)("header",{className:"bg-white shadow-sm fixed top-0 left-0 right-0 z-50",children:(0,r.jsxs)("div",{className:"container-custom flex justify-between items-center py-4",children:[(0,r.jsx)(l(),{href:"/",className:"flex items-center",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-indigo-600",children:"\uD83D\uDE90 MrVan"})}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(l(),{href:"/",className:"text-gray-700 hover:text-indigo-600 transition-colors",children:e.header.home}),(0,r.jsx)(l(),{href:"/#features",className:"text-gray-700 hover:text-indigo-600 transition-colors",children:e.header.features}),(0,r.jsx)(l(),{href:"/contact",className:"text-gray-700 hover:text-indigo-600 transition-colors",children:e.header.contact}),(0,r.jsx)(c,{}),(0,r.jsx)(l(),{href:"/login",className:"btn-primary",children:e.header.login})]}),(0,r.jsx)("button",{className:"md:hidden text-gray-700 focus:outline-none",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}):(0,r.jsx)("div",{children:"Loading..."})},m=()=>{let e=i();return e?(0,r.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,r.jsx)("div",{className:"container-custom py-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(l(),{href:"/",className:"flex items-center mb-6",children:(0,r.jsx)("span",{className:"text-3xl font-bold text-white",children:"\uD83D\uDE90 MrVan"})}),(0,r.jsx)("p",{className:"text-gray-400 mb-8 text-center",children:e.footer.tagline}),(0,r.jsxs)("div",{className:"flex space-x-4 mb-8",children:[(0,r.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),(0,r.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Instagram"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),(0,r.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]}),(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:e.footer.copyright})]})})}):(0,r.jsx)("div",{children:"Loading..."})};a.Z=e=>{let{children:a}=e;return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(d,{}),(0,r.jsx)("main",{className:"flex-grow pt-16",children:a}),(0,r.jsx)(m,{})]})}},2150:function(e,a,n){"use strict";var r=n(8967);let t="https://ektalbtnirqlttfkxdhe.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVrdGFsYnRuaXJxbHR0Zmt4ZGhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1Nzg0MDMsImV4cCI6MjA1ODE1NDQwM30.rAnmyyn7W9VHmb8f0LOEQ6LesoqpaFZjT034IyHkBes";t&&s||console.error("Відсутні Supabase URL або ключ! Перевірте налаштування середовища."),console.log("Supabase URL:",t);let l=(0,r.eI)(t,s);a.Z=l},7939:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return p},default:function(){return g}});var r=n(5893),t=n(8276),s=n(9008),l=n.n(s),o=n(7294),i=n(1771),c=n(6424),d=n(4820),m=n(2150),u=n(1163),h=n(1664),x=n.n(h),p=!0;function g(){let{t:e}=(0,t.$G)("common"),a=(0,u.useRouter)(),[n,s]=(0,o.useState)({companyName:"",registrationNumber:"",contactPersonName:"",email:"",phone:"",address:"",delegationModel:"",camperMake:"",camperModel:"",camperYear:"",camperPlate:""}),[h,p]=(0,o.useState)(!1),[g,f]=(0,o.useState)(null),[j,b]=(0,o.useState)(null),v=e=>{let{name:a,value:r}=e.target;s({...n,[a]:r})},N=async e=>{e.preventDefault(),f(null),b(null),p(!0);try{let{data:e,error:r}=await m.Z.from("users").insert([{email:n.email,name:n.contactPersonName,role:"company",phone:n.phone,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("id").single();if(r)throw Error(`Помилка при збереженні даних компанії: ${r.message}`);let t=e.id;console.log("Компанію успішно зареєстровано з ID:",t);let{data:s,error:l}=await m.Z.from("vehicles").insert([{owner_id:t,make:n.camperMake,model:n.camperModel,year:parseInt(n.camperYear)||new Date().getFullYear(),plate:n.camperPlate,delegation_model:n.delegationModel.replace("-","_"),status:"draft",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("id").single();if(l)throw Error(`Помилка при збереженні даних транспортного засобу: ${l.message}`);console.log("Транспортний засіб успішно зареєстровано з ID:",s.id);let{data:o,error:i}=await m.Z.from("agreements").insert([{user_id:t,agreement_type:`company_${n.delegationModel}`,signature_status:"pending",created_at:new Date().toISOString()}]).select("id");i&&console.warn("Застереження: не вдалося створити угоду:",i),b("Дані успішно збережено! Перенаправляємо на наступний крок..."),setTimeout(()=>{a.push("/onboarding/success")},2e3)}catch(e){console.error("Помилка при обробці форми:",e),f(e instanceof Error?e.message:"Сталася невідома помилка при збереженні даних")}finally{p(!1)}};return(0,r.jsxs)(d.Z,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Company Onboarding | MrVan"}),(0,r.jsx)("meta",{name:"description",content:"Register your company's campers with MrVan"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("section",{className:"py-20",children:(0,r.jsx)("div",{className:"container-custom",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-md overflow-hidden",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"\uD83C\uDFE2 Company Registration"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8 text-center",children:"Register your company and camper fleet with MrVan."}),g&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:g}),j&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md mb-4",children:j}),(0,r.jsxs)("form",{onSubmit:N,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-indigo-600 mt-6 mb-4",children:"Company Information"}),(0,r.jsx)(i.Z,{id:"companyName",name:"companyName",label:"Company Name",value:n.companyName,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"registrationNumber",name:"registrationNumber",label:"Registration Number",value:n.registrationNumber,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"contactPersonName",name:"contactPersonName",label:"Contact Person Name",value:n.contactPersonName,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"email",name:"email",type:"email",label:"Email Address",value:n.email,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"phone",name:"phone",type:"tel",label:"Phone Number",value:n.phone,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"address",name:"address",label:"Business Address",value:n.address,onChange:v,required:!0}),(0,r.jsx)(c.Z,{id:"delegationModel",name:"delegationModel",label:"Delegation Model",value:n.delegationModel,onChange:v,options:[{value:"service-only",label:"Service Only"},{value:"partial-help",label:"Partial Help"},{value:"full-delegation",label:"Full Delegation"}],required:!0}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-indigo-600 mt-8 mb-4",children:"Camper Information"}),(0,r.jsx)(i.Z,{id:"camperMake",name:"camperMake",label:"Camper Make",value:n.camperMake,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"camperModel",name:"camperModel",label:"Camper Model",value:n.camperModel,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"camperYear",name:"camperYear",type:"number",label:"Year of Manufacture",value:n.camperYear,onChange:v,required:!0}),(0,r.jsx)(i.Z,{id:"camperPlate",name:"camperPlate",label:"License Plate",value:n.camperPlate,onChange:v,required:!0})]}),(0,r.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,r.jsx)(x(),{href:"/signup/",className:"text-blue-500 hover:text-blue-700",children:e("back_to_signup")}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"Збереження...":"Continue"})]})]})]})})})})]})}},6507:function(e,a,n){var r={"./ca/common.json":[3130,130],"./en/common.json":[3172,172],"./es/common.json":[3078,78],"./fr/common.json":[6210,160],"./it/common.json":[8085,85]};function t(e){if(!n.o(r,e))return Promise.resolve().then(function(){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=r[e],t=a[0];return n.e(a[1]).then(function(){return n.t(t,19)})}t.keys=function(){return Object.keys(r)},t.id=6507,e.exports=t}},function(e){e.O(0,[996,276,967,888,774,179],function(){return e(e.s=3498)}),_N_E=e.O()}]);